<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="icon" type="image/png" href="webrtc.png" />
	<style>
		h2 {
			margin: 0 auto;
			text-align: center;
		}
	</style>
	<script type="module" src="webrtc-streamer-element.js"></script>
	<script type="module" src="webrtc-streamer-footer-element.js"></script>
	<style>
		*{
			margin: 0;
			padding:0;
		}
		.container {
			position: absolute;
			width:100%;
			height:100%;
			box-sizing: border-box;
			padding:20px;
			background: #000000;

		}
		.video-wrapper {
			display: grid;
			grid-gap: 10px;
			grid-template-columns: 1fr 1fr;
			grid-template-rows: 1fr 1fr;
			height: 100%;
			/*padding:10px;*/
			box-sizing: border-box;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="video-wrapper">
			<webrtc-streamer   options="rtptransport=tcp&timeout=60&width=0&height=0&bitrate=0&rotation=0"></webrtc-streamer>
			<webrtc-streamer   options="rtptransport=tcp&timeout=60&width=0&height=0&bitrate=0&rotation=0"></webrtc-streamer>
			<webrtc-streamer   options="rtptransport=tcp&timeout=60&width=0&height=0&bitrate=0&rotation=0"></webrtc-streamer>
			<webrtc-streamer   options="rtptransport=tcp&timeout=60&width=0&height=0&bitrate=0&rotation=0"></webrtc-streamer>
		</div>
	</div>

	<script>
		let streamElement = null
        customElements.whenDefined('webrtc-streamer').then(() => {
			//  streamElement = document.getElementById("stream");
			//
			// console.log("streamElement.initialized")
			// console.log(streamElement.initialized)
			// console.log("streamElement.initialized")
			//
			//
			// var params = new URLSearchParams(location.search);
			// if (params.has("options")) {
			// 	streamElement.setAttribute('options', params.get("options"));
			// }
			// if (params.has("video") || params.has("audio")) {
			// 	let url = { video:params.get("video"), audio:params.get("audio") };
			// 	streamElement.setAttribute('url', JSON.stringify(url));
			// 	streamElement.style.display = "block"
			// } else {
			// //	messageElement.innerHTML = "url should contains video or audio"
			// }
		}).catch( (e) => {
			//messageElement.innerText = "webrtc-streamer webcomponent fails to initialize error:" + e
		})


		window.onload = function(){


		}


		function play(url) {
			//从外部调用播放方法
			streamElement.play(url)
		}

	</script>
</body>
</html>

